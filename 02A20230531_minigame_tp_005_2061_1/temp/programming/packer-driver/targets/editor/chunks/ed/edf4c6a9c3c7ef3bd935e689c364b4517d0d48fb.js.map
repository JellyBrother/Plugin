{"version":3,"sources":["file:///D:/amian/A20230531_minigame_tp_005/assets/scenesaoeiowoieioweoirieowope/paiYidongowoefowfowwoiew.ts"],"names":["game","tween","UITransform","v3","_decorator","Component","Node","NodeEventType","ccclass","property","paiYidongowoefowfowwoiew","kaisPoswoeoeofwoeofowe","isMoveweofoiweofoiwofso","paizhiOIIIWeoifoiweoifuiwe","start","onEnable","node","on","TOUCH_MOVE","moveWIIioiofweofoiw","TOUCH_END","endEoifofoweofiodfsod","TOUCH_CANCEL","onDisable","off","event","posV2","getUILocation","pos","changePosesoeoiweofwoiefwwoei_eiojwfiij","setPosition","length","mubiaorongqiNNshangWoisoeowoefos","children","xiangjiao","box","getComponent","getBoundingBoxToWorld","index","i","rongqi","undefined","intersects","parent","emit","to","position","pos1","pos2","convertToNodeSpaceAR","x","y","update","deltaTime"],"mappings":";;;;;;;;;;;;;;AAASA,MAAAA,I,OAAAA,I;AAAMC,MAAAA,K,OAAAA,K;AACoDC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,E,OAAAA,E;AACvEC,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,a,OAAAA,a;;;;;;;OAChC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;0CAIjBM,wB,WADZF,OAAO,CAAC,0BAAD,C,UAGHC,QAAQ,CAACH,IAAD,C,2BAHb,MACaI,wBADb,SAC8CL,SAD9C,CACwD;AAAA;AAAA;;AAAA;;AAAA,eAKpDM,sBALoD,GAK3B,IAL2B;AAAA,eAOpDC,uBAPoD,GAO1B,KAP0B;AAAA,eASpDC,0BAToD,GASvB,IATuB;AAAA;;AAYpDC,QAAAA,KAAK,GAAG,CAEP;;AAESC,QAAAA,QAAQ,GAAS;AACvB,eAAKC,IAAL,CAAUC,EAAV,CAAaV,aAAa,CAACW,UAA3B,EAAuC,KAAKC,mBAA5C,EAAiE,IAAjE;AACA,eAAKH,IAAL,CAAUC,EAAV,CAAaV,aAAa,CAACa,SAA3B,EAAsC,KAAKC,qBAA3C,EAAkE,IAAlE;AACA,eAAKL,IAAL,CAAUC,EAAV,CAAaV,aAAa,CAACe,YAA3B,EAAyC,KAAKD,qBAA9C,EAAqE,IAArE;AAGH;;AAESE,QAAAA,SAAS,GAAS;AACxB,eAAKP,IAAL,CAAUQ,GAAV,CAAcjB,aAAa,CAACW,UAA5B,EAAwC,KAAKC,mBAA7C,EAAkE,IAAlE;AACA,eAAKH,IAAL,CAAUQ,GAAV,CAAcjB,aAAa,CAACa,SAA5B,EAAuC,KAAKC,qBAA5C,EAAmE,IAAnE;AACA,eAAKL,IAAL,CAAUQ,GAAV,CAAcjB,aAAa,CAACe,YAA5B,EAA0C,KAAKD,qBAA/C,EAAsE,IAAtE;AACH,SA5BmD,CA8BpD;;;AACAF,QAAAA,mBAAmB,CAACM,KAAD,EAAoB;AACnC,cAAI,KAAKb,uBAAT,EAAkC;AAC9B,gBAAIc,KAAK,GAAGD,KAAK,CAACE,aAAN,EAAZ;AACA,gBAAIC,GAAG,GAAG,KAAKC,uCAAL,CAA6C,KAAKb,IAAlD,EAAwDU,KAAxD,CAAV;AACA,iBAAKV,IAAL,CAAUc,WAAV,CAAsBF,GAAtB;AACH;AACJ;;AAGDP,QAAAA,qBAAqB,CAACI,KAAD,EAAoB;AACrC,cAAIM,MAAM,GAAG,KAAKC,gCAAL,CAAsCC,QAAtC,CAA+CF,MAA5D;AACA,cAAIG,SAAS,GAAG,KAAhB;AACA,cAAIC,GAAG,GAAG,KAAKnB,IAAL,CAAUoB,YAAV,CAAuBlC,WAAvB,EAAoCmC,qBAApC,EAAV;AACA,cAAIC,KAAK,GAAG,CAAZ;;AACA,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxB,gBAAIC,MAAM,GAAG,KAAKR,gCAAL,CAAsCC,QAAtC,CAA+CM,CAA/C,CAAb;;AACA,gBAAIC,MAAM,CAACP,QAAP,CAAgB,CAAhB,KAAsBQ,SAA1B,EAAqC;AACjCP,cAAAA,SAAS,GAAGM,MAAM,CAACJ,YAAP,CAAoBlC,WAApB,EAAiCmC,qBAAjC,GAAyDK,UAAzD,CAAoEP,GAApE,CAAZ;AACAG,cAAAA,KAAK,GAAGC,CAAR;;AACA,kBAAIL,SAAJ,EAAe;AACX;AACH;AACJ;AACJ;;AACD,cAAIA,SAAJ,EAAe;AACX,iBAAKlB,IAAL,CAAU2B,MAAV,GAAmB,KAAKX,gCAAL,CAAsCC,QAAtC,CAA+CK,KAA/C,CAAnB;AACA,iBAAKtB,IAAL,CAAUc,WAAV,CAAsB3B,EAAE,CAAC,CAAD,EAAI,CAAJ,CAAxB;AACA,iBAAKS,uBAAL,GAA+B,KAA/B;AACAZ,YAAAA,IAAI,CAAC4C,IAAL,CAAU,mCAAV;AACH,WALD,MAKO;AACH3C,YAAAA,KAAK,CAAC,KAAKe,IAAN,CAAL,CAAiB6B,EAAjB,CAAoB,GAApB,EAAyB;AAAEC,cAAAA,QAAQ,EAAE,KAAKnC;AAAjB,aAAzB,EAAoEG,KAApE;AACH;AACJ;;AAEDe,QAAAA,uCAAuC,CAACb,IAAD,EAAO+B,IAAP,EAAa;AAChD,cAAIC,IAAI,GAAGhC,IAAI,CAAC2B,MAAL,CAAYP,YAAZ,CAAyBlC,WAAzB,EAAsC+C,oBAAtC,CAA2D9C,EAAE,CAAC4C,IAAI,CAACG,CAAN,EAASH,IAAI,CAACI,CAAd,CAA7D,CAAX;AACA,iBAAOH,IAAP;AACH;;AAGDI,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAzEmD,O;;;;;iBAGX,I","sourcesContent":["import { game, tween } from 'cc';\nimport { Collider2D, Contact2DType, EventTouch, IPhysics2DContact, UITransform, v3 } from 'cc';\nimport { _decorator, Component, Node, NodeEventType } from 'cc';\nconst { ccclass, property } = _decorator;\n\n\n@ccclass('paiYidongowoefowfowwoiew')\nexport class paiYidongowoefowfowwoiew extends Component {\n\n    @property(Node)\n    mubiaorongqiNNshangWoisoeowoefos: Node = null\n\n    kaisPoswoeoeofwoeofowe = null\n\n    isMoveweofoiweofoiwofso = false\n\n    paizhiOIIIWeoifoiweoifuiwe = null\n\n\n    start() {\n\n    }\n\n    protected onEnable(): void {\n        this.node.on(NodeEventType.TOUCH_MOVE, this.moveWIIioiofweofoiw, this);\n        this.node.on(NodeEventType.TOUCH_END, this.endEoifofoweofiodfsod, this);\n        this.node.on(NodeEventType.TOUCH_CANCEL, this.endEoifofoweofiodfsod, this);\n\n\n    }\n\n    protected onDisable(): void {\n        this.node.off(NodeEventType.TOUCH_MOVE, this.moveWIIioiofweofoiw, this);\n        this.node.off(NodeEventType.TOUCH_END, this.endEoifofoweofiodfsod, this);\n        this.node.off(NodeEventType.TOUCH_CANCEL, this.endEoifofoweofiodfsod, this);\n    }\n\n    //写法要改\n    moveWIIioiofweofoiw(event: EventTouch) {\n        if (this.isMoveweofoiweofoiwofso) {\n            let posV2 = event.getUILocation();\n            let pos = this.changePosesoeoiweofwoiefwwoei_eiojwfiij(this.node, posV2);\n            this.node.setPosition(pos);\n        }\n    }\n\n\n    endEoifofoweofiodfsod(event: EventTouch) {\n        let length = this.mubiaorongqiNNshangWoisoeowoefos.children.length;\n        let xiangjiao = false;\n        let box = this.node.getComponent(UITransform).getBoundingBoxToWorld();\n        let index = 0;\n        for (let i = 0; i < 4; i++) {\n            let rongqi = this.mubiaorongqiNNshangWoisoeowoefos.children[i];\n            if (rongqi.children[0] == undefined) {\n                xiangjiao = rongqi.getComponent(UITransform).getBoundingBoxToWorld().intersects(box);\n                index = i;\n                if (xiangjiao) {\n                    break;\n                }\n            }\n        }\n        if (xiangjiao) {\n            this.node.parent = this.mubiaorongqiNNshangWoisoeowoefos.children[index];\n            this.node.setPosition(v3(0, 0));\n            this.isMoveweofoiweofoiwofso = false;\n            game.emit(\"jiancejieguo_weiowefweiofjiowiofg\");\n        } else {\n            tween(this.node).to(0.1, { position: this.kaisPoswoeoeofwoeofowe }).start();\n        }\n    }\n\n    changePosesoeoiweofwoiefwwoei_eiojwfiij(node, pos1) {\n        var pos2 = node.parent.getComponent(UITransform).convertToNodeSpaceAR(v3(pos1.x, pos1.y));\n        return pos2;\n    }\n\n\n    update(deltaTime: number) {\n\n    }\n}\n\n"]}