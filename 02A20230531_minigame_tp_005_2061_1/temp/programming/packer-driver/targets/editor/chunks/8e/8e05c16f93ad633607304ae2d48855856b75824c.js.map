{"version":3,"sources":["file:///E:/A20230531_minigame_tp_005/assets/scenesaoeiowoieioweoirieowope/paiYidongowoefowfowwoiew.ts"],"names":["UITransform","v3","_decorator","Component","Node","NodeEventType","ccclass","property","paiYidongowoefowfowwoiew","kaisPoswoeoeofwoeofowe","isMoveweofoiweofoiwofso","start","onEnable","node","on","TOUCH_MOVE","moveWIIioiofweofoiw","TOUCH_END","endEoifofoweofiodfsod","TOUCH_CANCEL","onDisable","off","event","posV2","getUILocation","setWorldPosition","x","y","length","mubiaorongqiNNshangWoisoeowoefos","children","xiangjiao","box","getComponent","getBoundingBoxToWorld","index","i","rongqi","intersects","parent","setPosition","changePosesoeoiweofwoiefwwoei","pos1","convertToWorldSpaceAR","getPosition","pos2","convertToNodeSpaceAR","update","deltaTime"],"mappings":"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","sourcesContent":["import { tween } from 'cc';\nimport { Collider2D, Contact2DType, EventTouch, IPhysics2DContact, UITransform, v3 } from 'cc';\nimport { _decorator, Component, Node, NodeEventType } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('paiYidongowoefowfowwoiew')\nexport class paiYidongowoefowfowwoiew extends Component {\n\n    @property(Node)\n    mubiaorongqiNNshangWoisoeowoefos: Node = null\n\n    kaisPoswoeoeofwoeofowe = null\n\n    isMoveweofoiweofoiwofso = null\n\n\n    start() {\n        this.isMoveweofoiweofoiwofso = true;\n    }\n\n    protected onEnable(): void {\n        this.node.on(NodeEventType.TOUCH_MOVE, this.moveWIIioiofweofoiw, this);\n        this.node.on(NodeEventType.TOUCH_END, this.endEoifofoweofiodfsod, this);\n        this.node.on(NodeEventType.TOUCH_CANCEL, this.endEoifofoweofiodfsod, this);\n\n\n    }\n\n    protected onDisable(): void {\n        this.node.off(NodeEventType.TOUCH_MOVE, this.moveWIIioiofweofoiw, this);\n        this.node.off(NodeEventType.TOUCH_END, this.endEoifofoweofiodfsod, this);\n        this.node.off(NodeEventType.TOUCH_CANCEL, this.endEoifofoweofiodfsod, this);\n    }\n\n    //写法要改\n    moveWIIioiofweofoiw(event: EventTouch) {\n        if (this.isMoveweofoiweofoiwofso) {\n            let posV2 = event.getUILocation();\n            this.node.setWorldPosition(v3(posV2.x, posV2.y))\n        }\n    }\n\n    //写法要改\n    // let nowRect = this.nowPai.getComponent(UITransform).getBoundingBoxToWorld();\n    // for (let i = 0; i < len; i++) {\n    //     let now = this.zhuanP.children[i];\n    //     let is = now.getComponent(UITransform).getBoundingBoxToWorld().intersects(nowRect);\n    //     if (is) {\n    //         jiaoNode.push(now)\n    //     }\n    // }\n    endEoifofoweofiodfsod(event: EventTouch) {\n        let length = this.mubiaorongqiNNshangWoisoeowoefos.children.length;\n        let xiangjiao = false;\n        let box = this.node.getComponent(UITransform).getBoundingBoxToWorld();\n        let index = 0;\n        for (let i = 0; i < length; i++) {\n            let rongqi = this.mubiaorongqiNNshangWoisoeowoefos.children[i];\n            xiangjiao = rongqi.getComponent(UITransform).getBoundingBoxToWorld().intersects(box);\n            index = i;\n            if (xiangjiao) {\n                break;\n            }\n        }\n        if (xiangjiao) {\n            this.node.parent = this.mubiaorongqiNNshangWoisoeowoefos.children[index];\n            this.node.setPosition(v3(0, 0));\n            this.isMoveweofoiweofoiwofso = false;\n        } else {\n            // tween(this.node).to(0.1, { position: this.kaisPoswoeoeofwoeofowe }).start();\n        }\n    }\n\n    changePosesoeoiweofwoiefwwoei(node, parent) {\n        var pos1 = node.parent.getComponent(UITransform).convertToWorldSpaceAR(node.getPosition());\n        var pos2 = parent.parent.getComponent(UITransform).convertToNodeSpaceAR(pos1);\n        return pos2;\n    }\n\n\n    update(deltaTime: number) {\n\n    }\n}\n\n"]}